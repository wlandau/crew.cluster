<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> SGE options. — crew_options_sge • crew.cluster</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content=" SGE options. — crew_options_sge"><meta name="description" content="Set options for SGE job management."><meta property="og:description" content="Set options for SGE job management."><meta property="og:image" content="/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">crew.cluster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wlandau/crew.cluster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="figures/lifecycle-maturing.svg" alt="[Maturing]"></a> SGE options.</h1>
      <small class="dont-index">Source: <a href="https://github.com/wlandau/crew.cluster/blob/main/R/crew_options_sge.R" class="external-link"><code>R/crew_options_sge.R</code></a></small>
      <div class="d-none name"><code>crew_options_sge.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Set options for SGE job management.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">crew_options_sge</span><span class="op">(</span></span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  command_submit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.which.html" class="external-link">Sys.which</a></span><span class="op">(</span><span class="st">"qsub"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  command_terminate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.which.html" class="external-link">Sys.which</a></span><span class="op">(</span><span class="st">"qdel"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  script_directory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  script_lines <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span>,</span>
<span>  cwd <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  envvars <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log_output <span class="op">=</span> <span class="st">"/dev/null"</span>,</span>
<span>  log_error <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log_join <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  memory_gigabytes_limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  memory_gigabytes_required <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cores <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gpu <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical, whether to see console output and error messages
when submitting worker.</p></dd>


<dt id="arg-command-submit">command_submit<a class="anchor" aria-label="anchor" href="#arg-command-submit"></a></dt>
<dd><p>Character of length 1,
file path to the executable to submit a worker job.</p></dd>


<dt id="arg-command-terminate">command_terminate<a class="anchor" aria-label="anchor" href="#arg-command-terminate"></a></dt>
<dd><p>Character of length 1,
file path to the executable to terminate a worker job.
Set to <code>""</code> to skip manually terminating the worker.
Unless there is an issue with the platform,
the job should still exit thanks to the NNG-powered network programming
capabilities of <code>mirai</code>. Still, if you set <code>command_terminate = ""</code>,
you are assuming extra responsibility for manually monitoring
your jobs on the cluster and manually terminating jobs as appropriate.</p></dd>


<dt id="arg-script-directory">script_directory<a class="anchor" aria-label="anchor" href="#arg-script-directory"></a></dt>
<dd><p>Character of length 1, directory path to the
job scripts. Just before each job submission, a job script
is created in this folder. Script base names are unique to each
launcher and worker, and the launcher deletes the script when the
worker is manually terminated. <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> is the default, but it
might not work for some systems.
<code>tools::R_user_dir("crew.cluster", which = "cache")</code>
is another reasonable choice.</p></dd>


<dt id="arg-script-lines">script_lines<a class="anchor" aria-label="anchor" href="#arg-script-lines"></a></dt>
<dd><p>Optional character vector of additional lines to be
added to the job script just after the more common flags.
An example would be <code>script_lines = "module load R"</code> if your cluster
supports R through an environment module.</p></dd>


<dt id="arg-cwd">cwd<a class="anchor" aria-label="anchor" href="#arg-cwd"></a></dt>
<dd><p>Logical of length 1, whether to
launch the worker from the current working directory (as opposed to
the user home directory). <code>cwd = TRUE</code> translates to a line of
<code>#$ -cwd</code> in the SGE job script. <code>cwd = FALSE</code> omits this line.</p></dd>


<dt id="arg-envvars">envvars<a class="anchor" aria-label="anchor" href="#arg-envvars"></a></dt>
<dd><p>Logical of length 1, whether to forward the environment
variables of the current session to the SGE worker. <code>envvars = TRUE</code>
translates to a line of <code>#$ -V</code> in the SGE job script.
<code>envvars = FALSE</code> omits this line.</p></dd>


<dt id="arg-log-output">log_output<a class="anchor" aria-label="anchor" href="#arg-log-output"></a></dt>
<dd><p>Character of length 1, file or directory path to SGE
worker log files for standard output.
<code>log_output = "VALUE"</code> translates to a line of
<code>#$ -o VALUE</code> in the SGE job script. The default is <code>/dev/null</code> to omit
the logs. If you do supply a non-<code>/dev/null</code> value,
it is recommended to supply a
directory path with a trailing slash so that each worker gets its own set
of log files.</p></dd>


<dt id="arg-log-error">log_error<a class="anchor" aria-label="anchor" href="#arg-log-error"></a></dt>
<dd><p>Character of length 1, file or directory path to SGE
worker log files for standard error.
<code>log_error = "VALUE"</code> translates to a line of
<code>#$ -e VALUE</code> in the SGE job script.
The default of <code>NULL</code> omits this line.
If you do supply a non-<code>/dev/null</code> value, it is recommended to supply a
directory path with a trailing slash so that each worker gets its own set
of log files.</p></dd>


<dt id="arg-log-join">log_join<a class="anchor" aria-label="anchor" href="#arg-log-join"></a></dt>
<dd><p>Logical, whether to join the stdout and stderr log
files together into one file. <code>log_join = TRUE</code> translates to a line
of <code>#$ -j y</code> in the SGE job script, while <code>log_join = FALSE</code> is
equivalent to <code>#$ -j n</code>. If <code>log_join = TRUE</code>, then <code>log_error</code>
should be <code>NULL</code>.</p></dd>


<dt id="arg-memory-gigabytes-limit">memory_gigabytes_limit<a class="anchor" aria-label="anchor" href="#arg-memory-gigabytes-limit"></a></dt>
<dd><p>Optional numeric vector, usually
with a single element.
Supply a vector to make <code>memory_gigabytes_limit</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>memory_gigabytes_limit</code> is
the maximum number of gigabytes of memory a worker is allowed to
consume. If the worker consumes more than this level of memory, then
SGE will terminate it. <code>memory_gigabytes_limit = 5.7"</code>
translates to a line of <code>"#$ -l h_rss=5.7G"</code> in the SGE job script.
<code>memory_gigabytes_limit = NULL</code> omits this line.</p></dd>


<dt id="arg-memory-gigabytes-required">memory_gigabytes_required<a class="anchor" aria-label="anchor" href="#arg-memory-gigabytes-required"></a></dt>
<dd><p>Optional positive numeric vector,
usually with a single element.
Supply a vector to make <code>memory_gigabytes_required</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>memory_gigabytes_required</code> is
the gigabytes of memory required to run the worker.
<code>memory_gigabytes_required = 2.4</code>
translates to a line of <code>#$ -l m_mem_free=2.4G</code> in the SGE job script.
<code>memory_gigabytes_required = NULL</code> omits this line.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>Optional positive integer vector, usually with a single
element.
Supply a vector to make <code>cores</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>cores</code> is the
number of cores per worker ("slots" in SGE lingo).
<code>cores = 4</code> translates
to a line of <code>#$ -pe smp 4</code> in the SGE job script.
<code>cores = NULL</code> omits this line.</p></dd>


<dt id="arg-gpu">gpu<a class="anchor" aria-label="anchor" href="#arg-gpu"></a></dt>
<dd><p>Optional integer vector, usually with a single element.
Supply a vector to make <code>gpu</code> a retryable option
(see the "Retryable options" section for details).</p>
<p><code>gpu</code> is the number of GPUs to
request for the worker. <code>gpu = 1</code> translates to a line of
<code>"#$ -l gpu=1"</code> in the SGE job script. <code>gpu = NULL</code> omits this line.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A classed list of options.</p>
    </div>
    <div class="section level2">
    <h2 id="retryable-options">Retryable options<a class="anchor" aria-label="anchor" href="#retryable-options"></a></h2>


<p>Arguments <code>memory_gigabytes_limit</code>, <code>memory_gigabytes_required</code>,
<code>cores</code>, and <code>gpu</code> are retryable options.
Each of these arguments be a vector where each successive element is
used during a retry if the worker previously exited without
completing all its assigned tasks.
The last element of the vector is used if there are more retries than
the length of the vector.
Control the number of allowable retries with <code>crashes_error</code>
argument of the controller.</p>
    </div>
    <div class="section level2">
    <h2 id="attribution">Attribution<a class="anchor" aria-label="anchor" href="#attribution"></a></h2>


<p>The template files at
<a href="https://github.com/mschubert/clustermq/tree/master/inst" class="external-link">https://github.com/mschubert/clustermq/tree/master/inst</a>
informed the development of the <code>crew</code> launcher plugins in
<code>crew.cluster</code>, and we would like to thank
Michael Schubert for developing <code>clustermq</code> and releasing it under
the permissive Apache License 2.0.
See the <code>NOTICE</code> and <code>README.md</code> files in the <code>crew.cluster</code>
source code for additional attribution.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other sge:
<code><a href="crew_class_launcher_sge.html">crew_class_launcher_sge</a></code>,
<code><a href="crew_class_monitor_sge.html">crew_class_monitor_sge</a></code>,
<code><a href="crew_controller_sge.html">crew_controller_sge</a>()</code>,
<code><a href="crew_launcher_sge.html">crew_launcher_sge</a>()</code>,
<code><a href="crew_monitor_sge.html">crew_monitor_sge</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span>  <span class="fu">crew_options_sge</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $verbose</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $command_submit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $command_terminate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] ""</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $script_directory</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/tmp/RtmpoiHZKg"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $script_lines</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cwd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $envvars</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $log_output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/dev/null"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $log_error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $log_join</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $memory_gigabytes_limit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $memory_gigabytes_required</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cores</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gpu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "crew_options_sge"     "crew_options_cluster" "crew_options"        </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by William Michael Landau, Michael Gilbert Levin, Brendan Furneaux, Eli Lilly and Company.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

